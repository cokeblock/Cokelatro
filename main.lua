-- FILE GENERATED BY JOKER FORGE
-- ** If you find any bugs, or have suggestions, please report them on the GitHub repository: https://github.com/Jayd-H/joker-forge/issues **

-- Atlas
SMODS.Atlas({
    key = "CustomJokers", 
    path = "CustomJokers.png", 
    px = 71,
    py = 95, 
    atlas_table = "ASSET_ATLAS"
}):register()

SMODS.Joker{ --Etched Joker
    name = "Etched Joker",
    key = "etch",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Etched Joker',
        ['text'] = {
            [1] = 'If first {C:planet}poker hand{} of round is a',
            [2] = '{C:attention}5 card hand{}, duplicate {E:1}every{} {C:dark_edition}scored card{}',
            [3] = 'and {E:1}draw it to hand{}'
        }
    },
    pos = {
        x = 0,
        y = 0
    },
    cost = 10,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 1,
        y = 0
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if (#context.scoring_hand == 5 and G.GAME.current_round.hands_played == 0) then
                local cards_to_copy = {}
                for i, c in ipairs(context.full_hand) do
                    table.insert(cards_to_copy, c)
                end
                
                for i, source_card in ipairs(cards_to_copy) do
                    G.playing_card = (G.playing_card and G.playing_card + 1) or 1
                    local copied_card = copy_card(source_card, nil, nil, G.playing_card)
                    copied_card:add_to_deck()
                    G.deck.config.card_limit = G.deck.config.card_limit + 1
                    table.insert(G.playing_cards, copied_card)
                    G.hand:emplace(copied_card)
                    copied_card.states.visible = nil
                    
                    G.E_MANAGER:add_event(Event({
                        func = function() 
                            copied_card:start_materialize()
                            return true
                        end
                    }))
                end
                return {
                    message = "ETCHED!"
                }
            end
        end
    end
}

SMODS.Joker{ --J.O.K.E.R
    name = "J.O.K.E.R",
    key = "wacko",
    config = {
        extra = {
            doohivket = 1,
            odds = 5
        }
    },
    loc_txt = {
        ['name'] = 'J.O.K.E.R',
        ['text'] = {
            [1] = 'Every time a {E:1}consumable{} is {C:attention}used{},',
            [2] = '{C:green}#2# in #3# chance{} a held',
            [3] = 'consumable {C:attention}duplicates{} and becomes {C:dark_edition}negative{}'
        }
    },
    pos = {
        x = 2,
        y = 0
    },
    cost = 7,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 3,
        y = 0
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {G.GAME.probabilities.normal, card.ability.extra.odds, card.ability.extra.doohivket}}
    end,

    calculate = function(self, card, context)
        if context.using_consumeable and not context.blueprint then
                if pseudorandom('group_0_076d5d43') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
            local target_cards = {}
            for i, consumable in ipairs(G.consumeables.cards) do
                table.insert(target_cards, consumable)
            end
            if #target_cards > 0  then
                local card_to_copy = pseudorandom_element(target_cards, pseudoseed('copy_consumable'))
                
                G.E_MANAGER:add_event(Event({
                    func = function()
                        local copied_card = copy_card(card_to_copy)
                        copied_card:set_edition("e_negative", true)
                        copied_card:add_to_deck()
                        G.consumeables:emplace(copied_card)
                        
                        return true
                    end
                }))
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "DUPED!", colour = G.C.GREEN})
            end
                    return true
                end}, card)
                    end
        end
    end
}

SMODS.Joker{ --the legend
    name = "the legend",
    key = "jimbo",
    config = {
        extra = {
            mult = 4,
            Xmult = 4,
            emult = 4
        }
    },
    loc_txt = {
        ['name'] = 'the legend',
        ['text'] = {
            [1] = '{E:1}{C:dark_edition}THE ONE AND ONLY JOKER{}',
            [2] = '{C:red}+4{} Mult',
            [3] = '{X:red,C:white}X4{} Mult',
            [4] = '{C:dark_edition}^4{} Mult'
        }
    },
    pos = {
        x = 4,
        y = 0
    },
    cost = 20,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 5,
        y = 0
    },

    in_pool = function(self, args)
        return true
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    mult = card.ability.extra.mult,
                    extra = {
                        Xmult = card.ability.extra.Xmult,
                        extra = {
                            e_mult = card.ability.extra.emult,
                            colour = G.C.DARK_EDITION
                        }
                        }
                }
        end
    end
}

SMODS.Joker{ --Jarrys joke
    name = "Jarrys joke",
    key = "garry",
    config = {
        extra = {
            powermult = 1,
            j_joker = 0
        }
    },
    loc_txt = {
        ['name'] = 'Jarrys joke',
        ['text'] = {
            [1] = 'gains {X:edition,C:dark_edition}^0.5{} Mult {C:attention}at end of shop{}.',
            [2] = 'destroys {X:attention,C:white}all{} jokers at end of shop.',
            [3] = '{C:inactive}(must have at least 1 additional joker){}',
            [4] = '{C:inactive}(currently {}{X:edition,C:dark_edition}^#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 6,
        y = 0
    },
    cost = 8,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 7,
        y = 0
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.powermult}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    e_mult = card.ability.extra.powermult
                }
        end
        if context.ending_shop and not context.blueprint then
            if #G.jokers.cards > 1 then
                return {
                    func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "⠀", colour = G.C.RED})
                end
                    return true
                end,
                    extra = {
                        func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "⠀", colour = G.C.RED})
                end
                    return true
                end,
                        colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "⠀", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "⠀", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                    card.ability.extra.powermult = (card.ability.extra.powermult) + 0.5
                    return true
                end,
                            message = "[Codebase-mult-jkr]",
                            colour = G.C.GREEN
                        }
                        }
                        }
                        }
                }
            end
        end
    end
}

SMODS.Joker{ --Coupon
    name = "Coupon",
    key = "store",
    config = {
        extra = {
            percentprice = -25,
            voucher = 0
        }
    },
    loc_txt = {
        ['name'] = 'Coupon',
        ['text'] = {
            [1] = 'Create a {C:attention}Voucher{} tag',
            [2] = 'at end of shop'
        }
    },
    pos = {
        x = 8,
        y = 0
    },
    cost = 10,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.ending_shop and not context.blueprint then
                return {
                    func = function()
            G.E_MANAGER:add_event(Event({
                func = function()
                    local tag = Tag("tag_voucher")
                    tag:set_ability()
                    add_tag(tag)
                    play_sound('holo1', 1.2 + math.random() * 0.1, 0.4)
                    return true
                end
            }))
                    return true
                end,
                    message = "+1 VOUCHER!"
                }
        end
    end
}

SMODS.Joker{ --EXE
    name = "EXE",
    key = "exe",
    config = {
        extra = {
            devoured = 1,
            Money = -10,
            j_cokelatr_exe = 0,
            j_joker = 0,
            var1 = 0
        }
    },
    loc_txt = {
        ['name'] = 'EXE',
        ['text'] = {
            [1] = 'when blind is selected. {C:attention}Deletes{} a random {C:attention}',
            [2] = 'joker{} and gains {X:chips,C:edition}^0.5{}{} Chips',
            [3] = '{C:inactive}(currently {}{C:edition}{X:chips,C:edition}^#1#{}{C:inactive} Chips){}'
        }
    },
    pos = {
        x = 9,
        y = 0
    },
    cost = 40,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 0,
        y = 1
    },

    in_pool = function(self, args)
        return true
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.devoured}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    e_chips = card.ability.extra.devoured
                }
        end
        if context.selling_self and not context.blueprint then
                return {
                    func = function()
            local created_joker = false
                if #G.jokers.cards + G.GAME.joker_buffer < G.jokers.config.card_limit then
                    created_joker = true
                    G.GAME.joker_buffer = G.GAME.joker_buffer + 1
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            local joker_card = create_card('Joker', G.jokers, nil, nil, nil, nil, 'j_cokelatr_exe')
                            joker_card:add_to_deck()
                            G.jokers:emplace(joker_card)
                            G.GAME.joker_buffer = 0
                            return true
                        end
                    }))
                end
            if created_joker then
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "NO ESCAPE!", colour = G.C.BLUE})
            end
            return true
        end,
                    extra = {
                        dollars = card.ability.extra.Money
                        }
                }
        end
        if context.setting_blind and not context.blueprint then
                return {
                    func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "CODE EATEN!", colour = G.C.RED})
                end
                    return true
                end,
                    extra = {
                        func = function()
                    card.ability.extra.devoured = (card.ability.extra.devoured) + 0.5
                    return true
                end,
                        colour = G.C.GREEN
                        }
                }
        end
    end
}

SMODS.Joker{ --KID NAMED FINGER
    name = "KID NAMED FINGER",
    key = "finger",
    config = {
        extra = {
            Discards = 0,
            discardsusedthisround = 0,
            emult = 1.5
        }
    },
    loc_txt = {
        ['name'] = 'KID NAMED FINGER',
        ['text'] = {
            [1] = 'If no {C:red}discards {}are used and played',
            [2] = '{C:blue}hand{} is a high card, {C:dark_edition}^1.5 Mult{}',
            [3] = 'on {C:attention}first hand{} of round'
        }
    },
    pos = {
        x = 1,
        y = 1
    },
    cost = 8,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if (context.scoring_name == "High Card" and G.GAME.current_round.hands_played == 0 and (card.ability.extra.Discards or 0) == G.GAME.current_round.discards_used) then
                return {
                    e_mult = card.ability.extra.emult,
                    message = "PAINTED WHITE!"
                }
            end
        end
    end
}

SMODS.Joker{ --MACHINEID V1
    name = "MACHINEID V1",
    key = "v1",
    config = {
        extra = {
            coins = 1
        }
    },
    loc_txt = {
        ['name'] = 'MACHINEID V1',
        ['text'] = {
            [1] = 'Gains {X:red,C:white}X0.2{} Mult per scored card',
            [2] = 'if played hand contains exactly four {C:attention}Gold{} cards',
            [3] = '{C:inactive}(currently{} {X:mult,C:white}X#1#{}{C:inactive} Mult){}'
        }
    },
    pos = {
        x = 2,
        y = 1
    },
    cost = 8,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.coins}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if (SMODS.get_enhancements(context.other_card)["m_gold"] == true and #context.scoring_hand == 4) then
                card.ability.extra.coins = (card.ability.extra.coins) + 0.2
                return {
                    message = "COIN!"
                }
            end
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.coins
                }
        end
    end
}

SMODS.Joker{ --Bill cipher
    name = "Bill cipher",
    key = "bill",
    config = {
        extra = {
            Xmult = 3,
            emult = 3
        }
    },
    loc_txt = {
        ['name'] = 'Bill cipher',
        ['text'] = {
            [1] = '{X:red,C:white}X3{}{C:dark_edition}^3{} Mult'
        }
    },
    pos = {
        x = 3,
        y = 1
    },
    cost = 50,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 4,
        y = 1
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.Xmult,
                    extra = {
                        e_mult = card.ability.extra.emult,
                            message = "TRIANGLES!",
                        colour = G.C.DARK_EDITION
                        }
                }
        end
    end
}

SMODS.Joker{ --Journal 1
    name = "Journal 1",
    key = "J1",
    config = {
        extra = {
            mult = 6
        }
    },
    loc_txt = {
        ['name'] = 'Journal 1',
        ['text'] = {
            [1] = '{C:red}+6{} Mult',
            [2] = '{E:1}{C:gold}the process has begun{}.{}'
        }
    },
    pos = {
        x = 5,
        y = 1
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    mult = card.ability.extra.mult,
                    extra = {
                        message = "HAHAHA",
                        colour = G.C.YELLOW
                        }
                }
        end
    end
}

SMODS.Joker{ --Journal 2
    name = "Journal 2",
    key = "J2",
    config = {
        extra = {
            Xmult = 4
        }
    },
    loc_txt = {
        ['name'] = 'Journal 2',
        ['text'] = {
            [1] = '{X:red,C:white}X4{} Mult',
            [2] = '{C:gold}we\'ll, meet again!',
            [3] = '{C:gold}dont know where, dont know when!{}'
        }
    },
    pos = {
        x = 6,
        y = 1
    },
    cost = 5,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    in_pool = function(self, args)
        return false
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.Xmult
                }
        end
    end
}

SMODS.Joker{ --Journal 3
    name = "Journal 3",
    key = "J3",
    config = {
        extra = {
            odds = 2,
            emult = 1.5
        }
    },
    loc_txt = {
        ['name'] = 'Journal 3',
        ['text'] = {
            [1] = '{C:green}#1# in #2# chance{} for {C:dark_edition}^1.5{} Mult',
            [2] = '{C:gold}good ol 6 fingers!{}'
        }
    },
    pos = {
        x = 7,
        y = 1
    },
    cost = 6,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {G.GAME.probabilities.normal, card.ability.extra.odds}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                if pseudorandom('group_0_01ec05fa') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({e_mult = card.ability.extra.emult}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HAHAHA", colour = G.C.DARK_EDITION})
                    end
        end
    end
}

SMODS.Joker{ --JKR//1011101
    name = "JKR//1011101",
    key = "jkr",
    config = {
        extra = {
            odds = 4,
            odds2 = 6,
            odds3 = 8,
            odds4 = 30,
            xchips = 2,
            echips = 0.5,
            emult = 2,
            Xmult = 1011,
            set_dollars = 0,
            sell_value = 1101,
            hands = 2,
            hands1 = 3,
            discards = 5,
            discards1 = 5
        }
    },
    loc_txt = {
        ['name'] = 'JKR//1011101',
        ['text'] = {
            [1] = '{C:green}1100010011{}110010{C:green}10111{}',
            [2] = '{C:inactive}{{C:green}{C:inactive}(cu{}{}%^&ren{C:green} t*l{}{C:inactive}y{}{}'
        }
    },
    pos = {
        x = 8,
        y = 1
    },
    cost = 8,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                if pseudorandom('group_0_23d2697b') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({xchips = card.ability.extra.xchips}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "110101111err", colour = G.C.WHITE})
                    end
                if pseudorandom('group_1_2a194631') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({e_chips = card.ability.extra.echips}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "mult", colour = G.C.DARK_EDITION})
                    end
                if pseudorandom('group_2_0c497f05') < G.GAME.probabilities.normal / card.ability.extra.odds2 then
                        SMODS.calculate_effect({e_mult = card.ability.extra.emult}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "[]system10111", colour = G.C.DARK_EDITION})
                    end
                if pseudorandom('group_3_62165083') < G.GAME.probabilities.normal / card.ability.extra.odds3 then
                        SMODS.calculate_effect({Xmult = card.ability.extra.Xmult}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "10111-101011-1011", colour = G.C.WHITE})
                    end
                if pseudorandom('group_4_0906cd88') < G.GAME.probabilities.normal / card.ability.extra.odds4 then
                        SMODS.calculate_effect({func = function()
                local target_amount = card.ability.extra.set_dollars
                local current_amount = G.GAME.dollars
                local difference = target_amount - current_amount
                ease_dollars(difference)
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "N--110er11d", colour = G.C.MONEY})
                return true
            end}, card)
                    end
                if pseudorandom('group_5_355e477b') < G.GAME.probabilities.normal / card.ability.extra.odds4 then
                        card.ability.extra_value = (card.ability.extra_value or 0) + card.ability.extra.sell_value
            card:set_cost()
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "10111rches-rags10011", colour = G.C.MONEY})
                    end
        end
        if context.setting_blind and not context.blueprint then
                if pseudorandom('group_0_a4c6fee1') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "CDE:HNDS1", colour = G.C.GREEN})
                G.GAME.current_round.hands_left = G.GAME.current_round.hands_left + card.ability.extra.hands
                return true
            end}, card)
                    end
                if pseudorandom('group_1_6c0dd9d2') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "CDE:HNDS-1", colour = G.C.RED})
                G.GAME.current_round.hands_left = math.max(0, G.GAME.current_round.hands_left - card.ability.extra.hands1)
                return true
            end}, card)
                    end
                if pseudorandom('group_2_1ad9d47d') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "CDE:DSCRD1", colour = G.C.ORANGE})
                G.GAME.current_round.discards_left = G.GAME.current_round.discards_left + card.ability.extra.discards
                return true
            end}, card)
                    end
                if pseudorandom('group_3_68a0e6d6') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "CDE:DSCRD-1", colour = G.C.RED})
                G.GAME.current_round.discards_left = math.max(0, G.GAME.current_round.discards_left - card.ability.extra.discards1)
                return true
            end}, card)
                    end
                if pseudorandom('group_4_315485dc') < G.GAME.probabilities.normal / card.ability.extra.odds2 then
                        SMODS.calculate_effect({func = function()
                local current_hand_size = G.hand.config.card_limit
                local target_hand_size = 12
                local difference = target_hand_size - current_hand_size
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HNDS:SZ1", colour = G.C.BLUE})
                G.hand:change_size(difference)
                return true
            end}, card)
                    end
                if pseudorandom('group_5_2c0af43e') < G.GAME.probabilities.normal / card.ability.extra.odds2 then
                        SMODS.calculate_effect({func = function()
                local current_hand_size = G.hand.config.card_limit
                local target_hand_size = 5
                local difference = target_hand_size - current_hand_size
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HNDS:SZ-1", colour = G.C.BLUE})
                G.hand:change_size(difference)
                return true
            end}, card)
                    end
        end
    end
}

SMODS.Joker{ --ANYTHING AND EVERYTHING
    name = "ANYTHING AND EVERYTHING",
    key = "and",
    config = {
        extra = {
            Allowedjokers = 1,
            jokercount = 0,
            j_joker = 0,
            var1 = 0
        }
    },
    loc_txt = {
        ['name'] = 'ANYTHING AND EVERYTHING',
        ['text'] = {
            [1] = '{X:red,C:white}X2{} Mult per {C:attention}Joker{} owned.',
            [2] = 'if more than {X:attention,C:white}#1#{} jokers are owned',
            [3] = '{C:attention}destroy{} all jokers, including itself',
            [4] = '{C:inactive}(increases allowed joker amount when boss blind defeated){}',
            [5] = '{C:inactive}(current {}{X:mult,C:white}X#4#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 9,
        y = 1
    },
    cost = 7,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.Allowedjokers, card.ability.extra.j_joker, card.ability.extra.var1, (#G.jokers.cards) * 2}}
    end,

    calculate = function(self, card, context)
        if context.buying_card and not context.blueprint then
            if #G.jokers.cards < 0 then
                return {
                    message = "APATHY IS A TRAGEDY AND BOREDOM IS A CRIME",
                    extra = {
                        func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                        colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED,
                        extra = {
                            func = function()
                local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "Destroyed!", colour = G.C.RED})
                end
                    return true
                end,
                            colour = G.C.RED
                        }
                        }
                        }
                        }
                        }
                        }
                        }
                        }
                        }
                }
            end
        end
        if context.end_of_round and context.main_eval and G.GAME.blind.boss and not context.blueprint then
                return {
                    func = function()
                    card.ability.extra.Allowedjokers = (card.ability.extra.Allowedjokers) + 1
                    return true
                end,
                    message = "ALL OF THE TIME!"
                }
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = (#G.jokers.cards) * 2
                }
        end
    end
}

SMODS.Joker{ --Wild Joker
    name = "Wild Joker",
    key = "Wild",
    config = {
        extra = {
            Xmult = 1.2
        }
    },
    loc_txt = {
        ['name'] = 'Wild Joker',
        ['text'] = {
            [1] = '{C:attention}Wild{} cards each give',
            [2] = '{X:red,C:white}X1.2{}{} Mult when scored'
        }
    },
    pos = {
        x = 0,
        y = 2
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if SMODS.get_enhancements(context.other_card)["m_wild"] == true then
                return {
                    Xmult = card.ability.extra.Xmult
                }
            end
        end
    end
}

SMODS.Joker{ --Missing Texture
    name = "Missing Texture",
    key = "simming",
    config = {
        extra = {
            JKR = 1,
            mult = 40,
            mult1 = 10,
            mult2 = 20,
            mult3 = 30
        }
    },
    loc_txt = {
        ['name'] = 'Missing Texture',
        ['text'] = {
            [1] = '{C:red}+10{} Mult per empty {C:attention}joker{} slot'
        }
    },
    pos = {
        x = 1,
        y = 2
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if #G.jokers.cards == 1 then
                return {
                    mult = card.ability.extra.mult
                }
            elseif #G.jokers.cards == 4 then
                return {
                    mult = card.ability.extra.mult1
                }
            elseif #G.jokers.cards == 3 then
                return {
                    mult = card.ability.extra.mult2
                }
            elseif #G.jokers.cards == 2 then
                return {
                    mult = card.ability.extra.mult3
                }
            end
        end
    end
}

SMODS.Joker{ --Insane Joker
    name = "Insane Joker",
    key = "four",
    config = {
        extra = {
            mult = 16
        }
    },
    loc_txt = {
        ['name'] = 'Insane Joker',
        ['text'] = {
            [1] = '{C:red}+16{} Mult if played hand',
            [2] = 'contains {C:attention}four of a kind{}'
        }
    },
    pos = {
        x = 2,
        y = 2
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if next(context.poker_hands["Four of a Kind"]) then
                return {
                    mult = card.ability.extra.mult
                }
            end
        end
    end
}

SMODS.Joker{ --Demented Joker
    name = "Demented Joker",
    key = "flushhouse",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Demented Joker',
        ['text'] = {
            [1] = '{C:red}+24{} Mult if played hand',
            [2] = 'contains {C:attention}Flush house{}'
        }
    },
    pos = {
        x = 3,
        y = 2
    },
    cost = 5,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if next(context.poker_hands["Flush House"]) then
            end
        end
    end
}

SMODS.Joker{ --Deranged Joker
    name = "Deranged Joker",
    key = "five",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Deranged Joker',
        ['text'] = {
            [1] = '{C:red}+32{} Mult if played',
            [2] = 'hand contains {C:attention}Five of a Kind{}'
        }
    },
    pos = {
        x = 4,
        y = 2
    },
    cost = 5,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if next(context.poker_hands["Five of a Kind"]) then
            end
        end
    end
}

SMODS.Joker{ --Hysterical Joker
    name = "Hysterical Joker",
    key = "funny",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Hysterical Joker',
        ['text'] = {
            [1] = '{C:red}+40{} Mult if played hand',
            [2] = 'contains {C:attention}Flush Five{}'
        }
    },
    pos = {
        x = 5,
        y = 2
    },
    cost = 5,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if next(context.poker_hands["Five of a Kind"]) then
            end
        end
    end
}

SMODS.Joker{ --Crypto Scam
    name = "Crypto Scam",
    key = "scam",
    config = {
        extra = {
            MoneyX = 2,
            set_dollars = 0
        }
    },
    loc_txt = {
        ['name'] = 'Crypto Scam',
        ['text'] = {
            [1] = 'Gain {C:money}#1# Dollars{} at end of round.',
            [2] = 'if {C:money}money{} is {X:money,C:white}0{} Multiply payout by {X:red,C:white}X2{}',
            [3] = 'at {X:money,C:white}100{} {C:money}Dollars{}, Multiplys it by {X:red,C:white}X4{}{} instead',
            [4] = '{C:inactive,E:1}(when blind selected, if money is not 100 or 0',
            [5] = 'this joker destroys itself and sets money to 0){}'
        }
    },
    pos = {
        x = 6,
        y = 2
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = false,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.MoneyX}}
    end,

    calculate = function(self, card, context)
        if context.end_of_round and context.game_over == false and context.main_eval and not context.blueprint then
            if G.GAME.dollars == 0 then
                return {
                    func = function()
                    card.ability.extra.MoneyX = (card.ability.extra.MoneyX) * 2
                    return true
                end,
                    message = "PUMPED!",
                    extra = {
                        dollars = card.ability.extra.MoneyX
                        }
                }
            elseif G.GAME.dollars == 100 then
                return {
                    func = function()
                    card.ability.extra.MoneyX = (card.ability.extra.MoneyX) * 4
                    return true
                end,
                    message = "PUMPED!",
                    extra = {
                        dollars = card.ability.extra.MoneyX
                        }
                }
            end
        end
        if context.setting_blind and not context.blueprint then
            if (G.GAME.dollars ~= 0 and G.GAME.dollars ~= 100) then
                return {
                    func = function()
                local target_amount = card.ability.extra.set_dollars
                local current_amount = G.GAME.dollars
                local difference = target_amount - current_amount
                ease_dollars(difference)
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "DUMPED!", colour = G.C.MONEY})
                return true
            end,
                    extra = {
                        func = function()
                card:start_dissolve()
                return true
            end,
                            message = "Destroyed!",
                        colour = G.C.RED
                        }
                }
            end
        end
    end
}

SMODS.Joker{ --Hiding Graphs
    name = "Hiding Graphs",
    key = "hide",
    config = {
        extra = {
            JOKE = 0,
            Xmult = 8
        }
    },
    loc_txt = {
        ['name'] = 'Hiding Graphs',
        ['text'] = {
            [1] = '{C:attention}First{} played {C:attention}face card{} gives {X:red,C:white}X8{} Mult when scored',
            [2] = 'retrigger first {C:attention}card{} played {C:attention}4 additional{} times',
            [3] = '{s:3}BROKEN{}'
        }
    },
    pos = {
        x = 7,
        y = 2
    },
    cost = 12,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    in_pool = function(self, args)
        return false
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if (context.other_card:get_id() == 13 and (card.ability.extra.JOKE or 0) == 1) then
                card.ability.extra.JOKE = 0
                return {
                    Xmult = card.ability.extra.Xmult
                }
            end
        end
        if context.hand_drawn and not context.blueprint then
                return {
                    func = function()
                    card.ability.extra.JOKE = 1
                    return true
                end
                }
        end
    end
}

SMODS.Joker{ --PokeBall
    name = "PokeBall",
    key = "poke",
    config = {
        extra = {
            j_joker = 0,
            odds = 10
        }
    },
    loc_txt = {
        ['name'] = 'PokeBall',
        ['text'] = {
            [1] = 'At end of round, {C:green}#1# in #2# chance{}',
            [2] = 'to {C:attention}duplicate{} a random {C:attention}Joker{} and make it {C:dark_edition,E:1}negative{}'
        }
    },
    pos = {
        x = 8,
        y = 2
    },
    cost = 20,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 9,
        y = 2
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {G.GAME.probabilities.normal, card.ability.extra.odds}}
    end,

    calculate = function(self, card, context)
        if context.end_of_round and context.game_over == false and context.main_eval and not context.blueprint then
                if pseudorandom('group_0_a2272c3a') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        SMODS.calculate_effect({func = function()
                local available_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    table.insert(available_jokers, joker)
                end
                local target_joker = #available_jokers > 0 and pseudorandom_element(available_jokers, pseudoseed('copy_joker')) or nil
                
                if target_joker then
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            local copied_joker = copy_card(target_joker, nil, nil, nil, target_joker.edition and target_joker.edition.negative)
                        copied_joker:set_edition("e_negative", true)
                            copied_joker:add_to_deck()
                            G.jokers:emplace(copied_joker)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "WHOS THAT JOKER?", colour = G.C.GREEN})
                end
                    return true
                end}, card)
                    end
        end
    end
}

SMODS.Joker{ --This joker is great!
    name = "This joker is great!",
    key = "Vsauce",
    config = {
        extra = {
            Oddities = 1
        }
    },
    loc_txt = {
        ['name'] = 'This joker is great!',
        ['text'] = {
            [1] = 'This joker gains {X:red,C:white}X0.25{} mult',
            [2] = 'if played hand is only {C:common}odd rank{} cards',
            [3] = '{C:inactive,E:1}or is it?{}',
            [4] = '{C:inactive}(currently {}{X:red,C:white}X#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 0,
        y = 3
    },
    cost = 7,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.Oddities}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if (function()
    local allMatchRank = true
    for i, c in ipairs(context.full_hand) do
        if not ((c:get_id() == 14 or c:get_id() == 3 or c:get_id() == 5 or c:get_id() == 7 or c:get_id() == 9)) then
            allMatchRank = false
            break
        end
    end
    
    return allMatchRank and #context.full_hand > 0
end)() then
                card.ability.extra.Oddities = (card.ability.extra.Oddities) + 0.25
                return {
                    Xmult = card.ability.extra.Oddities
                }
            else
                return {
                    Xmult = card.ability.extra.Oddities
                }
            end
        end
    end
}

SMODS.Joker{ --Thats Just a Joker
    name = "Thats Just a Joker",
    key = "mat",
    config = {
        extra = {
            JOKER = 1
        }
    },
    loc_txt = {
        ['name'] = 'Thats Just a Joker',
        ['text'] = {
            [1] = '{C:attention}Copies{} a random',
            [2] = 'jokers {C:attention}ability{} every hand',
            [3] = '{C:inactive,s:2}(BROKEN){}'
        }
    },
    pos = {
        x = 1,
        y = 3
    },
    cost = 8,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    in_pool = function(self, args)
        return false
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    set_ability = function(self, card, initial)
        card:add_sticker('perishable', true)
    end,

    calculate = function(self, card, context)
        local target_joker = nil
        
        target_joker = G.jokers.cards[1]
        if target_joker == card then
            target_joker = nil
        end
        
        return SMODS.blueprint_effect(card, target_joker, context)
    end
}

SMODS.Joker{ --Jokerbrot
    name = "Jokerbrot",
    key = "mandela",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Jokerbrot',
        ['text'] = {
            [1] = 'Copies {C:attention}ability{} of {C:attention}second joker{}'
        }
    },
    pos = {
        x = 2,
        y = 3
    },
    cost = 10,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    in_pool = function(self, args)
        return false
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        local target_joker = nil
        
        target_joker = G.jokers.cards[2]
        if target_joker == card then
            target_joker = nil
        end
        
        return SMODS.blueprint_effect(card, target_joker, context)
    end
}

SMODS.Joker{ --Pale Joker
    name = "Pale Joker",
    key = "hollow",
    config = {
        extra = {
            vara = 0,
            ante_value = 2
        }
    },
    loc_txt = {
        ['name'] = 'Pale Joker',
        ['text'] = {
            [1] = 'On death, this joker {C:attention}destroys{} itself',
            [2] = '{C:attention}revives{} the {E:1}player{}, and goes back 2 {C:attention}ante{}'
        }
    },
    pos = {
        x = 3,
        y = 3
    },
    cost = 15,
    rarity = 3,
    blueprint_compat = false,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.end_of_round and context.game_over and context.main_eval and not context.blueprint then
                return {
                    func = function()
                card:start_dissolve()
                return true
            end,
                    message = "Destroyed!",
                    extra = {
                        saved = true,
                            message = "RESPAWN!",
                        colour = G.C.RED,
                        extra = {
                            func = function()
                    G.GAME.round_resets.ante = G.GAME.round_resets.ante - card.ability.extra.ante_value
                    return true
                end,
                            message = "CHECKPOINT!",
                            colour = G.C.FILTER
                        }
                        }
                }
        end
    end
}

SMODS.Joker{ --Cokeblock4043
    name = "Cokeblock4043",
    key = "me",
    config = {
        extra = {
            blocmult = 1
        }
    },
    loc_txt = {
        ['name'] = 'Cokeblock4043',
        ['text'] = {
            [1] = 'Gains {C:dark_edition}^0.443{}{} Mult if played hand',
            [2] = '{C:attention}contains{} a scoring {E:1}4, Ace, or 3{}',
            [3] = '{C:inactive}(currently{} {C:dark_edition}^#1#{}{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 4,
        y = 3
    },
    cost = 20,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 5,
        y = 3
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.blocmult}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if (function()
    local rankCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:get_id() == 4 then
            rankCount = rankCount + 1
        end
    end
    
    return rankCount >= 1
end)() then
                card.ability.extra.blocmult = (card.ability.extra.blocmult) + 0.443
                return {
                    message = "NOPE!",
                    extra = {
                        e_mult = card.ability.extra.blocmult,
                        colour = G.C.DARK_EDITION
                        }
                }
            elseif (function()
    local rankCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:get_id() == 3 then
            rankCount = rankCount + 1
        end
    end
    
    return rankCount >= 1
end)() then
                card.ability.extra.blocmult = (card.ability.extra.blocmult) + 0.443
                return {
                    message = "HUH?!",
                    extra = {
                        e_mult = card.ability.extra.blocmult,
                        colour = G.C.DARK_EDITION
                        }
                }
            elseif (function()
    local rankCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:get_id() == 14 then
            rankCount = rankCount + 1
        end
    end
    
    return rankCount >= 1
end)() then
                card.ability.extra.blocmult = (card.ability.extra.blocmult) + 0.443
                return {
                    message = "MULTED",
                    extra = {
                        e_mult = card.ability.extra.blocmult,
                        colour = G.C.DARK_EDITION
                        }
                }
            else
                return {
                    Xmult = card.ability.extra.blocmult,
                    message = "KABOOM!"
                }
            end
        end
    end
}

SMODS.Joker{ --recycling bin
    name = "recycling bin",
    key = "trash",
    config = {
        extra = {
            Xmult = 2
        }
    },
    loc_txt = {
        ['name'] = 'recycling bin',
        ['text'] = {
            [1] = 'Every scored {C:attention}7{} of spades',
            [2] = 'gives {X:red,C:white}X2{} Mult',
            [3] = '{C:inactive,E:2}hey, their good now!{}'
        }
    },
    pos = {
        x = 6,
        y = 3
    },
    cost = 10,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if (context.other_card:get_id() == 7 and context.other_card:is_suit("Spades")) then
                return {
                    Xmult = card.ability.extra.Xmult,
                    message = "TRASH!"
                }
            end
        end
    end
}

SMODS.Joker{ --Fancy spade
    name = "Fancy spade",
    key = "spadestyle",
    config = {
        extra = {
            repetitions = 1
        }
    },
    loc_txt = {
        ['name'] = 'Fancy spade',
        ['text'] = {
            [1] = '{C:attention}Retrigger{} all scored',
            [2] = 'cards with {C:attention}Spade{} suit'
        }
    },
    pos = {
        x = 7,
        y = 3
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.repetition and context.cardarea == G.play then
            if context.other_card:is_suit("Spades") then
                return {
                    repetitions = card.ability.extra.repetitions,
                    message = "AGAIN!"
                }
            end
        end
    end
}

SMODS.Joker{ --Balancing act
    name = "Balancing act",
    key = "balance",
    config = {
        extra = {
            Balance = 1
        }
    },
    loc_txt = {
        ['name'] = 'Balancing act',
        ['text'] = {
            [1] = 'Gains {X:red,C:white}X1{} Mult at end of shop',
            [2] = 'Resets at {X:red,C:white}X10{} Mult',
            [3] = '{C:inactive}(currently{} {X:red,C:white}X#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 8,
        y = 3
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.Balance}}
    end,

    calculate = function(self, card, context)
        if context.ending_shop and not context.blueprint then
            if (card.ability.extra.Balance or 0) < 10 then
                return {
                    func = function()
                    card.ability.extra.Balance = (card.ability.extra.Balance) + 1
                    return true
                end,
                    message = "X1 MULT!"
                }
            elseif (card.ability.extra.Balance or 0) >= 10 then
                return {
                    func = function()
                    card.ability.extra.Balance = 1
                    return true
                end,
                    message = "RESET!"
                }
            end
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.Balance
                }
        end
    end
}

SMODS.Joker{ --Fancy heart
    name = "Fancy heart",
    key = "heartstyle",
    config = {
        extra = {
            repetitions = 1
        }
    },
    loc_txt = {
        ['name'] = 'Fancy heart',
        ['text'] = {
            [1] = '{C:attention}Retrigger{} all scored',
            [2] = 'cards with {C:hearts}Heart{} suit'
        }
    },
    pos = {
        x = 9,
        y = 3
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.repetition and context.cardarea == G.play then
            if context.other_card:is_suit("Hearts") then
                return {
                    repetitions = card.ability.extra.repetitions,
                    message = "AGAIN!"
                }
            end
        end
    end
}

SMODS.Joker{ --Fancy club
    name = "Fancy club",
    key = "clubstyle",
    config = {
        extra = {
            repetitions = 1
        }
    },
    loc_txt = {
        ['name'] = 'Fancy club',
        ['text'] = {
            [1] = '{C:attention}Retrigger{} all scored',
            [2] = 'cards with {C:clubs}Club{} suit'
        }
    },
    pos = {
        x = 0,
        y = 4
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.repetition and context.cardarea == G.play then
            if context.other_card:is_suit("Clubs") then
                return {
                    repetitions = card.ability.extra.repetitions,
                    message = "AGAIN!"
                }
            end
        end
    end
}

SMODS.Joker{ --Fancy diamond
    name = "Fancy diamond",
    key = "diamondstyle",
    config = {
        extra = {
            repetitions = 1
        }
    },
    loc_txt = {
        ['name'] = 'Fancy diamond',
        ['text'] = {
            [1] = '{C:attention}Retrigger{} all scored',
            [2] = 'cards with {C:diamonds}Diamond{} suit'
        }
    },
    pos = {
        x = 1,
        y = 4
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.repetition and context.cardarea == G.play then
            if context.other_card:is_suit("Diamonds") then
                return {
                    repetitions = card.ability.extra.repetitions,
                    message = "AGAIN!"
                }
            end
        end
    end
}

SMODS.Joker{ --Wild Re-Run
    name = "Wild Re-Run",
    key = "wildrerun",
    config = {
        extra = {
            repetitions = 2
        }
    },
    loc_txt = {
        ['name'] = 'Wild Re-Run',
        ['text'] = {
            [1] = '{C:attention}Retrigger{} all scored',
            [2] = 'cards with {C:attention,E:2}WILD{} suit 2 {C:attention}additional{} times'
        }
    },
    pos = {
        x = 2,
        y = 4
    },
    cost = 8,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.repetition and context.cardarea == G.play then
            if SMODS.get_enhancements(context.other_card)["m_wild"] == true then
                return {
                    repetitions = card.ability.extra.repetitions,
                    message = "WILD!"
                }
            end
        end
    end
}

SMODS.Joker{ --Stats
    name = "Stats",
    key = "stat",
    config = {
        extra = {
            Xmultvar = 1
        }
    },
    loc_txt = {
        ['name'] = 'Stats',
        ['text'] = {
            [1] = 'This joker gains {X:red,C:white}X0.2{} Mult',
            [2] = 'per {C:attention}booster pack{} opened',
            [3] = '{C:inactive}(currently{} {X:red,C:white}X#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 3,
        y = 4
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.Xmultvar}}
    end,

    calculate = function(self, card, context)
        if context.open_booster and not context.blueprint then
                return {
                    func = function()
                    card.ability.extra.Xmultvar = (card.ability.extra.Xmultvar) + 0.2
                    return true
                end,
                    message = "STATS BOOSTED!"
                }
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.Xmultvar
                }
        end
    end
}

SMODS.Joker{ --The one who jokes
    name = "The one who jokes",
    key = "culted",
    config = {
        extra = {
            spad = 0,
            hurt = 0,
            cub = 0,
            die = 0,
            Xmultvar = 1
        }
    },
    loc_txt = {
        ['name'] = 'The one who jokes',
        ['text'] = {
            [1] = 'Gains {X:red,C:white}X2{} Mult when a',
            [2] = '{C:clubs}club{}, spade, {C:diamonds}diamond{}, and {C:hearts}heart{}',
            [3] = 'card are {}{C:attention}destroyed{}',
            [4] = '{C:inactive}(currently{} {X:red,C:white}X#5#{} {C:inactive}Mult){}',
            [5] = '{C:inactive}cards must be destroyed {C:attention}individually{}{}'
        }
    },
    pos = {
        x = 4,
        y = 4
    },
    cost = 9,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 5,
        y = 4
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.spad, card.ability.extra.hurt, card.ability.extra.cub, card.ability.extra.die, card.ability.extra.Xmultvar}}
    end,

    calculate = function(self, card, context)
        if context.remove_playing_cards and not context.blueprint then
            if ((function()
    for k, removed_card in ipairs(context.removed) do
        if removed_card:is_suit("Spades") then
            return true
        end
    end
    return false
end)() and (card.ability.extra.spad or 0) == 0) then
                return {
                    func = function()
                    card.ability.extra.spad = 1
                    return true
                end,
                    message = "MARTYRED!"
                }
            elseif ((function()
    for k, removed_card in ipairs(context.removed) do
        if removed_card:is_suit("Hearts") then
            return true
        end
    end
    return false
end)() and (card.ability.extra.hurt or 0) == 0) then
                return {
                    func = function()
                    card.ability.extra.hurt = 1
                    return true
                end,
                    message = "MARTYRED!"
                }
            elseif ((function()
    for k, removed_card in ipairs(context.removed) do
        if removed_card:is_suit("Diamonds") then
            return true
        end
    end
    return false
end)() and (card.ability.extra.die or 0) == 0) then
                return {
                    func = function()
                    card.ability.extra.die = 1
                    return true
                end,
                    message = "MARTYRED!"
                }
            elseif ((function()
    for k, removed_card in ipairs(context.removed) do
        if removed_card:is_suit("Clubs") then
            return true
        end
    end
    return false
end)() and (card.ability.extra.cub or 0) == 0) then
                return {
                    func = function()
                    card.ability.extra.cub = 1
                    return true
                end,
                    message = "MARTYRED!"
                }
            elseif ((function()
    for k, removed_card in ipairs(context.removed) do
        if SMODS.get_enhancements(removed_card)["m_wild"] == true then
            return true
        end
    end
    return false
end)() and (card.ability.extra.spad or 0) >= 1 and (card.ability.extra.hurt or 0) >= 1 and (card.ability.extra.cub or 0) >= 1 and (card.ability.extra.die or 0) >= 1) then
                return {
                    func = function()
                    card.ability.extra.spad = 1
                    return true
                end,
                    message = "MARTYRED!",
                    extra = {
                        func = function()
                    card.ability.extra.hurt = 1
                    return true
                end,
                        colour = G.C.BLUE,
                        extra = {
                            func = function()
                    card.ability.extra.cub = 1
                    return true
                end,
                            colour = G.C.BLUE,
                        extra = {
                            func = function()
                    card.ability.extra.die = 1
                    return true
                end,
                            colour = G.C.BLUE
                        }
                        }
                        }
                }
            end
        end
        if context.cardarea == G.jokers and context.joker_main then
            if ((card.ability.extra.spad or 0) == 1 and (card.ability.extra.hurt or 0) == 1 and (card.ability.extra.cub or 0) == 1 and (card.ability.extra.die or 0) == 1) then
                card.ability.extra.Xmultvar = (card.ability.extra.Xmultvar) + 2
                card.ability.extra.spad = 0
                card.ability.extra.hurt = 0
                card.ability.extra.cub = 0
                card.ability.extra.die = 0
                return {
                    message = "HERETICS DEFEATED!",
                    extra = {
                        Xmult = card.ability.extra.Xmultvar,
                        extra = {
                            message = "RESET!",
                            colour = G.C.BLUE,
                        extra = {
                            message = "RESET!",
                            colour = G.C.BLUE,
                        extra = {
                            message = "RESET!",
                            colour = G.C.BLUE,
                        extra = {
                            message = "RESET!",
                            colour = G.C.BLUE
                        }
                        }
                        }
                        }
                        }
                }
            else
                return {
                    Xmult = card.ability.extra.Xmultvar
                }
            end
        end
    end
}

SMODS.Joker{ --cybernetic69
    name = "cybernetic69",
    key = "cyber",
    config = {
        extra = {
            j_joker = 0,
            var1 = 0,
            odds = 30,
            emult = 10,
            set_dollars = 0,
            ante_value = 0
        }
    },
    loc_txt = {
        ['name'] = 'cybernetic69',
        ['text'] = {
            [1] = '{C:dark_edition}^10{} Mult. {C:green}#1# in #2# chance{} to remove all {C:money}money{},',
            [2] = '{C:attention}destroy{} all jokers, and set {C:attention}ante{} to {C:money}0{}',
            [3] = '{C:inactive,E:1,s:1.5}man, this game is mid -cybernetic69{}'
        }
    },
    pos = {
        x = 6,
        y = 4
    },
    cost = 30,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 7,
        y = 4
    },

    in_pool = function(self, args)
        return true
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {G.GAME.probabilities.normal, card.ability.extra.odds}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    e_mult = card.ability.extra.emult
                ,
                    func = function()
                        if pseudorandom('group_0_cf8377ff') < G.GAME.probabilities.normal / card.ability.extra.odds then
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        local destructable_jokers = {}
                for i, joker in ipairs(G.jokers.cards) do
                    if joker ~= card and not joker.ability.eternal and not joker.getting_sliced then
                        table.insert(destructable_jokers, joker)
                    end
                end
                local target_joker = #destructable_jokers > 0 and pseudorandom_element(destructable_jokers, pseudoseed('destroy_joker')) or nil
                
                if target_joker then
                    target_joker.getting_sliced = true
                    G.E_MANAGER:add_event(Event({
                        func = function()
                            target_joker:start_dissolve({G.C.RED}, nil, 1.6)
                            return true
                        end
                    }))
                    card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "HA", colour = G.C.RED})
                end
                        G.GAME.round_resets.ante = card.ability.extra.ante_value
                        SMODS.calculate_effect({func = function()
                local target_amount = card.ability.extra.set_dollars
                local current_amount = G.GAME.dollars
                local difference = target_amount - current_amount
                ease_dollars(difference)
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "NERD!", colour = G.C.MONEY})
                return true
            end}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "NOPE!", colour = G.C.FILTER})
                        SMODS.calculate_effect({func = function()
                card:start_dissolve()
                return true
            end}, card)
                        card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = "BYE!", colour = G.C.RED})
                    end
                        return true
                    end
                }
        end
    end
}

SMODS.Joker{ --SuperDrNoob
    name = "SuperDrNoob",
    key = "day",
    config = {
        extra = {
            Spacl = 1
        }
    },
    loc_txt = {
        ['name'] = 'SuperDrNoob',
        ['text'] = {
            [1] = 'Gains {C:dark_edition}^0.03{} Mult per {C:attention}scored{}',
            [2] = '{C:clubs}Club{} or spade',
            [3] = '{C:inactive}(currently{} {C:dark_edition}^#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 8,
        y = 4
    },
    cost = 20,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = false,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 9,
        y = 4
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.Spacl}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if context.other_card:is_suit("Spades") or context.other_card:is_suit("Clubs") then
                card.ability.extra.Spacl = (card.ability.extra.Spacl) + 0.03
                return {
                    message = "UPGRADE!"
                }
            end
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    e_mult = card.ability.extra.Spacl
                }
        end
    end
}

SMODS.Joker{ --CRT TV
    name = "CRT TV",
    key = "crt",
    config = {
        extra = {
            Xmult = 1.5
        }
    },
    loc_txt = {
        ['name'] = 'CRT TV',
        ['text'] = {
            [1] = '{C:attention}Face{} cards give {X:red,C:white}X1.5{} Mult',
            [2] = '{C:attention}only{} if {E:1}photograph{} is {C:attention}owned{}'
        }
    },
    pos = {
        x = 0,
        y = 5
    },
    cost = 6,
    rarity = 2,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if (context.other_card:is_face() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_photograph" then
              return true
          end
      end
      return false
  end)()) then
                return {
                    Xmult = card.ability.extra.Xmult,
                    message = "80s!"
                }
            end
        end
    end
}

SMODS.Joker{ --Fast Rapper
    name = "Fast Rapper",
    key = "em",
    config = {
        extra = {
            murderedby = 1
        }
    },
    loc_txt = {
        ['name'] = 'Fast Rapper',
        ['text'] = {
            [1] = 'Gains {X:red,C:white}X0.75{} Mult when',
            [2] = 'a card is {C:attention}destroyed{}',
            [3] = '{C:inactive}(currently{} {X:red,C:white}X#1#{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 1,
        y = 5
    },
    cost = 8,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.murderedby}}
    end,

    calculate = function(self, card, context)
        if context.remove_playing_cards and not context.blueprint then
                return {
                    func = function()
                    card.ability.extra.murderedby = (card.ability.extra.murderedby) + 0.75
                    return true
                end,
                    message = "MURDERED!"
                }
        end
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = card.ability.extra.murderedby
                }
        end
    end
}

SMODS.Joker{ --Nothing is worth the joke.
    name = "Nothing is worth the joke.",
    key = "alternate",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Nothing is worth the joke.',
        ['text'] = {
            [1] = '{X:red,C:white}Co{}PPies {C:clubs}Ab{}iility {E:1}O{X:legendary,C:white}f{}f{}101',
            [2] = '{C:attention}Leff{C:spectral}t{}-st {C:dark_edition}jo7{}keRR{}',
            [3] = '{C:inactive,E:1}(credit: Toxic){}'
        }
    },
    pos = {
        x = 2,
        y = 5
    },
    cost = 10,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        local target_joker = nil
        
        local my_pos = nil
        for i = 1, #G.jokers.cards do
            if G.jokers.cards[i] == card then
                my_pos = i
                break
            end
        end
        target_joker = (my_pos and my_pos > 1) and G.jokers.cards[my_pos - 1] or nil
        
        return SMODS.blueprint_effect(card, target_joker, context)
    end
}

SMODS.Joker{ --Serial Designation /J
    name = "Serial Designation /J",
    key = "jj",
    config = {
        extra = {
            spectralcardsused = 0
        }
    },
    loc_txt = {
        ['name'] = 'Serial Designation /J',
        ['text'] = {
            [1] = '{X:red,C:white}X0.2{} Mult per {C:spectral}spectral{}',
            [2] = 'card used this run',
            [3] = '{C:inactive}(currently{} {X:red,C:white}X#1#{}{C:inactive} Mult){}'
        }
    },
    pos = {
        x = 3,
        y = 5
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {((G.GAME.consumeable_usage_total and G.GAME.consumeable_usage_total.spectral or 0)) * 0.2}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                return {
                    Xmult = ((G.GAME.consumeable_usage_total and G.GAME.consumeable_usage_total.spectral or 0)) * 0.2
                }
        end
    end
}

SMODS.Joker{ --Jokehub
    name = "Jokehub",
    key = "reference",
    config = {
        extra = {
            mult = 69
        }
    },
    loc_txt = {
        ['name'] = 'Jokehub',
        ['text'] = {
            [1] = '{C:red}+69{} Mult if played {C:attention}hand{} has',
            [2] = '3 {C:diamonds}Diamonds{} and 2 spades'
        }
    },
    pos = {
        x = 4,
        y = 5
    },
    cost = 6,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if ((function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Diamonds") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount == 3
end)() and (function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Spades") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount == 2
end)()) then
                return {
                    mult = card.ability.extra.mult,
                    message = "FUNNY NUMBER!"
                }
            end
        end
    end
}

SMODS.Joker{ --A dance of Chips and Mult
    name = "A dance of Chips and Mult",
    key = "dance",
    config = {
        extra = {
            ice = 0,
            Mult = 0
        }
    },
    loc_txt = {
        ['name'] = 'A dance of Chips and Mult',
        ['text'] = {
            [1] = 'gains {X:blue,C:white}X0.1{}{} Chips when a {C:attention}card{} is {C:attention}scored{}',
            [2] = 'Gains {C:red}{X:red,C:white}X0.2{} Mult {C:attention}every{} time this joker applies {X:blue,C:white}XChips{}/{X:red,C:white}XMult{}',
            [3] = '{C:inactive}(currently{} {X:blue,C:white}X#1#{} {C:inactive}Chips{} {C:inactive}and{} {X:red,C:white}X#2#{}{} {C:inactive}Mult){}'
        }
    },
    pos = {
        x = 5,
        y = 5
    },
    cost = 8,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.ice, card.ability.extra.Mult}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
                card.ability.extra.ice = (card.ability.extra.ice) + 2
                return {
                    message = "CHIPS!"
                }
        end
        if context.cardarea == G.jokers and context.joker_main then
                card.ability.extra.Mult = (card.ability.extra.Mult) + 1
                return {
                    chips = card.ability.extra.ice,
                    extra = {
                        message = "MULT!",
                        colour = G.C.GREEN,
                        extra = {
                            mult = card.ability.extra.Mult
                        }
                        }
                }
        end
    end
}

SMODS.Joker{ --Ant Tenna
    name = "Ant Tenna",
    key = "anttenna",
    config = {
        extra = {
            j_cokelatr_tvtime = 0
        }
    },
    loc_txt = {
        ['name'] = 'Ant Tenna',
        ['text'] = {
            [1] = '{X:attention,C:white}Every{} played hand creates a',
            [2] = '{C:dark_edition,E:1}negative{} {C:attention}TV TIME!{} Joker',
            [3] = '{C:inactive,E:1}all boss blinds disabled{}'
        }
    },
    pos = {
        x = 6,
        y = 5
    },
    cost = 50,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 7,
        y = 5
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
                local created_joker = true
                G.E_MANAGER:add_event(Event({
                    func = function()
                        local joker_card = create_card('Joker', G.jokers, nil, nil, nil, nil, 'j_cokelatr_tvtime')
                        joker_card:set_edition("e_negative", true)
                        joker_card:add_to_deck()
                        G.jokers:emplace(joker_card)
                        return true
                    end
                }))
                return {
                    message = "TVTIME!"
                }
        end
        if context.setting_blind and not context.blueprint then
            if G.GAME.blind.boss then
                return {
                    func = function()
            if G.GAME.blind and G.GAME.blind.boss and not G.GAME.blind.disabled then
                G.E_MANAGER:add_event(Event({
                    func = function()
                        G.GAME.blind:disable()
                        play_sound('timpani')
                        return true
                    end
                }))
                card_eval_status_text(context.blueprint_card or card, 'extra', nil, nil, nil, {message = localize('ph_boss_disabled'), colour = G.C.GREEN})
            end
                    return true
                end
                }
            end
        end
    end
}

SMODS.Joker{ --TV TIME!
    name = "TV TIME!",
    key = "tvtime",
    config = {
        extra = {
            Xmult = 2,
            emult = 1.1,
            Xmult1 = 2
        }
    },
    loc_txt = {
        ['name'] = 'TV TIME!',
        ['text'] = {
            [1] = 'Played {C:attention}face{} cards give',
            [2] = '{X:red,C:white}X2{} Mult when {C:attention}scored,{}',
            [3] = 'if {X:legendary,C:white,E:1}Ant tenna{} is owned',
            [4] = 'they also give {C:dark_edition}^1.1{} Mult'
        }
    },
    pos = {
        x = 8,
        y = 5
    },
    cost = 30,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    in_pool = function(self, args)
        return true
    end,

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.individual and context.cardarea == G.play and not context.blueprint then
            if ((function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_anttenna" then
              return true
          end
      end
      return false
  end)() and context.other_card:is_face()) then
                return {
                    Xmult = card.ability.extra.Xmult,
                    extra = {
                        e_mult = card.ability.extra.emult,
                            message = "TVTIME!",
                        colour = G.C.DARK_EDITION
                        }
                }
            elseif context.other_card:is_face() then
                return {
                    Xmult = card.ability.extra.Xmult1
                }
            end
        end
    end
}

SMODS.Joker{ --Crashers
    name = "Crashers",
    key = "crash",
    config = {
        extra = {
            CASTLE = 1
        }
    },
    loc_txt = {
        ['name'] = 'Crashers',
        ['text'] = {
            [1] = 'Gains {X:blue,C:white}X0.5{} Chips if played',
            [2] = 'hand {C:attention}contains{} all four{E:1} suits{}',
            [3] = '{C:inactive}(currently{} {C:inactive}{X:blue,C:white}X#1#{}{} {C:inactive}Chips){}'
        }
    },
    pos = {
        x = 9,
        y = 5
    },
    cost = 8,
    rarity = 4,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 0,
        y = 6
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {card.ability.extra.CASTLE}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if ((function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Spades") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount >= 1
end)() and (function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Hearts") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount >= 1
end)() and (function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Diamonds") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount >= 1
end)() and (function()
    local suitCount = 0
    for i, c in ipairs(context.scoring_hand) do
        if c:is_suit("Clubs") then
            suitCount = suitCount + 1
        end
    end
    
    return suitCount >= 1
end)()) then
                card.ability.extra.CASTLE = (card.ability.extra.CASTLE) + 0.5
                return {
                    message = "CASTLE!",
                    extra = {
                        xchips = card.ability.extra.CASTLE
                        }
                }
            else
                return {
                    xchips = card.ability.extra.CASTLE
                }
            end
        end
    end
}

SMODS.Joker{ --The Radio Demon
    name = "The Radio Demon",
    key = "theradiodemon",
    config = {
        extra = {
            Alas = 1
        }
    },
    loc_txt = {
        ['name'] = 'The Radio Demon',
        ['text'] = {
            [1] = '{X:red,C:white}X3{} Mult per scored',
            [2] = '{C:attention}card{} if there are {X:attention,C:white}0{}',
            [3] = '{E:1}technology themed{} {C:attention}jokers{} owned'
        }
    },
    pos = {
        x = 1,
        y = 6
    },
    cost = 6,
    rarity = 3,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',
    soul_pos = {
        x = 2,
        y = 6
    },

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end,

    calculate = function(self, card, context)
        if context.cardarea == G.jokers and context.joker_main then
            if ((function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_anttenna" then
              return false
          end
      end
      return true
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_tvtime" then
              return false
          end
      end
      return true
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_exe" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_photograph" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_scam" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_crt" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_em" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_garry" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_jj" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_v1" then
              return true
          end
      end
      return false
  end)() and (function()
      for i = 1, #G.jokers.cards do
          if G.jokers.cards[i].config.center.key == "j_cokelatr_jkr" then
              return true
          end
      end
      return false
  end)()) then
                card.ability.extra.Alas = 3
            end
        end
        if context.individual and context.cardarea == G.play and not context.blueprint then
                return {
                    Xmult = card.ability.extra.Alas
                }
        end
    end
}

SMODS.Joker{ --Neon joker
    name = "Neon joker",
    key = "neon",
    config = {
        extra = {
        }
    },
    loc_txt = {
        ['name'] = 'Neon joker',
        ['text'] = {
            [1] = '{X:red,C:white}X2{} Mult per {C:dark_edition,E:1}negative{}',
            [2] = '{C:attention}joker{} owned'
        }
    },
    pos = {
        x = 3,
        y = 6
    },
    cost = 4,
    rarity = 1,
    blueprint_compat = true,
    eternal_compat = true,
    unlocked = true,
    discovered = true,
    atlas = 'CustomJokers',

    loc_vars = function(self, info_queue, card)
        return {vars = {}}
    end
}